#virtualhost can be accessed internally as well via port 5000
Listen 5000

#removed following line because conflict with /etc/apache2/ports.conf
#Listen 443

<VirtualHost *:443 *:5000>

    #this virtualhost is called when following FQDN is used
    #'iai' is a subdomain of suc.dynu.net
    ServerName iai.suc.dynu.net


    WSGIDaemonProcess ict-inventory threads=5 python-home=/home/ict/projects/ict-inventory/venv
    WSGIScriptAlias / /var/www/ict-inventory/ict-inventory.wsgi

    <Directory /var/www/ict-inventory>
        WSGIProcessGroup ict-inventory
        WSGIApplicationGroup %{GLOBAL}
        Order deny,allow
        Allow from all
    </Directory>

        Alias app/static /home/ict/projects/ict-inventory/app/static
        <Directory /home/ict/projects/ict-inventory/app/static>
        WSGIProcessGroup ict-inventory
        WSGIApplicationGroup %{GLOBAL}
            Order allow,deny
            Allow from all
        </Directory>

SSLCertificateFile /etc/letsencrypt/live/iai.suc.dynu.net/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/iai.suc.dynu.net/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
</VirtualHost>
